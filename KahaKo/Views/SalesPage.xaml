<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="KahaKo.Views.SalesPage"
             Title="Sales"
             BackgroundColor="#F5F5F5">

    <Grid RowDefinitions="Auto,*,Auto">

        <!-- Search Bar -->
        <Border Grid.Row="0"
                Margin="16,16,16,8"
                BackgroundColor="White"
                StrokeThickness="1"
                Stroke="#E0E0E0"
                Padding="12">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="12"/>
            </Border.StrokeShape>
            <SearchBar Placeholder="Search products..."
                       BackgroundColor="Transparent"
                       PlaceholderColor="#999999"
                       TextColor="#1A1A1A"
                       FontSize="16"/>
        </Border>

        <!-- Products Grid -->
        <ScrollView Grid.Row="1">
            <CollectionView Margin="16,8"
                           SelectionMode="Single">

                <!-- 2 columns on mobile -->
                <CollectionView.ItemsLayout>
                    <GridItemsLayout 
                        Orientation="Vertical"
                        Span="2"
                        HorizontalItemSpacing="8"
                        VerticalItemSpacing="8"/>
                </CollectionView.ItemsLayout>

                <!-- Sample Data (for testing) -->
                <CollectionView.ItemsSource>
                    <x:Array Type="{x:Type x:String}">
                        <x:String>Product 1</x:String>
                        <x:String>Product 2</x:String>
                        <x:String>Product 3</x:String>
                        <x:String>Product 4</x:String>
                        <x:String>Product 5</x:String>
                        <x:String>Product 6</x:String>
                    </x:Array>
                </CollectionView.ItemsSource>

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <!-- Product Card -->
                        <Border BackgroundColor="White"
                               StrokeThickness="1"
                               Stroke="#E0E0E0"
                               Padding="12">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>

                            <Grid RowDefinitions="100,Auto,Auto,Auto"
                                  RowSpacing="8">

                                <!-- Product Image Placeholder -->
                                <Border Grid.Row="0"
                                       BackgroundColor="#F5F5F5"
                                       StrokeThickness="0">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="8"/>
                                    </Border.StrokeShape>
                                    <Label Text="ðŸ“¦"
                                          FontSize="48"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"/>
                                </Border>

                                <!-- Product Name -->
                                <Label Grid.Row="1"
                                      Text="{Binding .}"
                                      FontSize="14"
                                      FontAttributes="Bold"
                                      TextColor="#1A1A1A"
                                      LineBreakMode="TailTruncation"/>

                                <!-- Category -->
                                <Label Grid.Row="2"
                                      Text="Beverages"
                                      FontSize="12"
                                      TextColor="#666666"/>

                                <!-- Price -->
                                <Label Grid.Row="3"
                                      Text="â‚±99.00"
                                      FontSize="16"
                                      FontAttributes="Bold"
                                      TextColor="#512BD4"/>

                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </ScrollView>

        <!-- Bottom Cart Summary -->
        <Border Grid.Row="2"
               BackgroundColor="White"
               StrokeThickness="1"
               Stroke="#E0E0E0"
               Padding="16">
            <Border.Shadow>
                <Shadow Brush="Black" 
                       Opacity="0.1" 
                       Radius="20" 
                       Offset="0,-4"/>
            </Border.Shadow>

            <Grid ColumnDefinitions="*,Auto"
                  ColumnSpacing="16">

                <!-- Cart Info -->
                <VerticalStackLayout Grid.Column="0" 
                                    Spacing="4"
                                    VerticalOptions="Center">
                    <Label Text="3 items"
                          FontSize="12"
                          TextColor="#666666"/>
                    <Label Text="â‚±297.00"
                          FontSize="20"
                          FontAttributes="Bold"
                          TextColor="#1A1A1A"/>
                </VerticalStackLayout>

                <!-- Checkout Button -->
                <Button Grid.Column="1"
                       Text="Checkout"
                       BackgroundColor="#512BD4"
                       TextColor="White"
                       FontSize="16"
                       FontAttributes="Bold"
                       WidthRequest="140"
                       HeightRequest="56"
                       CornerRadius="12"
                       VerticalOptions="Center"/>

            </Grid>
        </Border>

    </Grid>

</ContentPage>